document.addEventListener('DOMContentLoaded', ()=>{ document.getElementById('loginForm').addEventListener('submit', async (e)=>{ e.preventDefault(); const fd = new FormData(e.target); const body = { username: fd.get('username'), password: fd.get('password') }; const res = await fetch('/auth/login', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify(body) }); const j = await res.json(); if(j.success) location.href='/dashboard.html'; else document.getElementById('msg').innerText=j.error||'Login failed'; }); });
